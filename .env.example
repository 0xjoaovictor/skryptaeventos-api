# ============================================
# SkryptaEventos API - Environment Variables
# ============================================
# Copy this file to .env and update the values

# ============================================
# DATABASE
# ============================================
# For Docker Compose (default)
DATABASE_URL="postgresql://skryptauser:skryptapass@localhost:5432/skryptaeventos?schema=public"

# For custom PostgreSQL installation
# DATABASE_URL="postgresql://user:password@localhost:5432/skryptaeventos?schema=public"

# ============================================
# JWT AUTHENTICATION
# ============================================
# SECURITY: REQUIRED - Use a strong random secret (min 32 characters)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET="change-this-to-a-random-secret-key-in-production"
JWT_EXPIRATION="7d"

# ============================================
# APPLICATION
# ============================================
PORT=3000
NODE_ENV="development"
APP_URL="http://localhost:3000"

# ============================================
# ASAAS PAYMENT GATEWAY
# ============================================
# Get your API keys at https://www.asaas.com
# Sandbox URL for development/testing
ASAAS_API_KEY="your-asaas-api-key-here"
ASAAS_API_URL="https://sandbox.asaas.com/api/v3"
ASAAS_WALLET_ID="your-asaas-wallet-id"

# Production URL (uncomment for production)
# ASAAS_API_URL="https://api.asaas.com/v3"

# Webhook token for validating ASAAS webhook requests
# SECURITY: REQUIRED - Set this in your ASAAS dashboard: Settings > Webhooks > Access Token
# This prevents unauthorized payment webhooks from being processed
ASAAS_WEBHOOK_TOKEN="your-asaas-webhook-access-token-here"
ASAAS_PAYMENT_WEBHOOK_URL=""

# ============================================
# EMAIL CONFIGURATION (AWS SES)
# ============================================
# AWS SES Configuration (Recommended for Production)
# Get your credentials from AWS IAM Console
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID="your-aws-access-key-id"
AWS_SECRET_ACCESS_KEY="your-aws-secret-access-key"
EMAIL_FROM="noreply@skryptaeventos.com"

# Important: You must verify the sender email address in AWS SES Console
# https://console.aws.amazon.com/ses/

# For Development: Use SES Sandbox mode
# For Production: Request production access from AWS SES Console

# ============================================
# REDIS (OPTIONAL - for caching)
# ============================================
REDIS_HOST="localhost"
REDIS_PORT=6379
# REDIS_PASSWORD=""

# ============================================
# RATE LIMITING
# ============================================
# Rate limits are configured in code with different tiers:
# - General endpoints: 60 requests/minute
# - Authentication: 5 attempts per 15 minutes
# - Payments: 10 requests/minute
# Test mode allows 1000 requests/minute

# ============================================
# CORS
# ============================================
# SECURITY: REQUIRED in production - Comma-separated list of allowed origins
# Example: "https://app.example.com,https://admin.example.com"
CORS_ORIGIN="http://localhost:3000,http://localhost:3001"

# ============================================
# FILE UPLOAD (if implementing)
# ============================================
# MAX_FILE_SIZE=5242880  # 5MB
# UPLOAD_DEST="./uploads"

# ============================================
# LOGS
# ============================================
LOG_LEVEL="debug"

# ============================================
# WAITLIST (Supabase Database)
# ============================================
# Supabase connection string for waitlist feature
# Format: postgresql://postgres:[YOUR-PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres
# Get this from Supabase Dashboard > Project Settings > Database > Connection string > URI
SUPABASE_DATABASE_URL="postgresql://postgres:your-supabase-password@db.xxxxxxxxxxxxx.supabase.co:5432/postgres"

# ============================================
# PRODUCTION DEPLOYMENT
# ============================================
# Set to "true" to block all routes except /waitlist in production
# This is useful when deploying to AWS but keeping most features in development
# Set to "false" or remove to allow all routes
BLOCK_PRODUCTION_ROUTES="false"
